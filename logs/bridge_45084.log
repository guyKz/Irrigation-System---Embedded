2025-11-26 17:24:49 [INFO] __main__: ============================================================
2025-11-26 17:24:49 [INFO] __main__: SMART IRRIGATION SYSTEM - TINKERCAD TO THINGSBOARD BRIDGE
2025-11-26 17:24:49 [INFO] __main__: ============================================================
2025-11-26 17:24:49 [INFO] __main__: Started at: 2025-11-26 17:24:49
2025-11-26 17:24:49 [INFO] __main__: Log file: C:\Users\krzor\Desktop\irrigation last bridge\logs\bridge_45084.log
2025-11-26 17:24:49 [INFO] __main__: ============================================================
2025-11-26 17:24:49 [INFO] __main__: Starting Smart Irrigation Bridge...
2025-11-26 17:24:49 [INFO] __main__: Initializing components...
2025-11-26 17:24:49 [INFO] thingsboard_client: ThingsBoard client initialized: https://eu.thingsboard.cloud
2025-11-26 17:24:49 [INFO] thingsboard_client: Telemetry endpoint: https://eu.thingsboard.cloud/api/v1/9CHMtFJbaOCWB7p96XmC/telemetry
2025-11-26 17:24:49 [INFO] data_processor: Data processor initialized
2025-11-26 17:24:49 [INFO] thingsboard_client: Testing ThingsBoard connection...
2025-11-26 17:24:50 [INFO] thingsboard_client: ✓ ThingsBoard connection successful
2025-11-26 17:24:50 [INFO] __main__: Starting browser automation...
2025-11-26 17:24:50 [INFO] browser_automation: TinkerCAD automation initialized
2025-11-26 17:24:50 [INFO] browser_automation: Navigating to TinkerCAD...
2025-11-26 17:24:50 [INFO] browser_automation: Circuit URL: https://www.tinkercad.com/things/hTrSolRa4D1-smooth-jaiks-borwo/editel?returnTo=https%3A%2F%2Fwww.tinkercad.com%2Fdashboard%2Fdesigns%2Fcircuits&sharecode=WyCaIdMpHj_ctZyKmGF_-gRhH7uQz4xmHD_nGaFIFyM
2025-11-26 17:24:53 [INFO] browser_automation: Attempting login...
2025-11-26 17:25:01 [INFO] browser_automation: Waiting for login to complete...
2025-11-26 17:25:06 [INFO] browser_automation: Navigating to circuit after login...
2025-11-26 17:25:09 [INFO] browser_automation: ✓ Login successful and navigated to circuit
2025-11-26 17:25:09 [INFO] browser_automation: Setting up simulation environment...
2025-11-26 17:25:16 [INFO] browser_automation: ✓ Simulation setup complete
2025-11-26 17:25:16 [INFO] __main__: Opening ThingsBoard dashboard...
2025-11-26 17:25:16 [INFO] __main__: ✓ Dashboard opened: https://eu.thingsboard.cloud/dashboards/all/6e1fdde0-a387-11f0-89a6-d5955492b887
2025-11-26 17:25:16 [INFO] browser_automation: Serial monitor initialized
2025-11-26 17:25:16 [INFO] __main__: ============================================================
2025-11-26 17:25:16 [INFO] __main__: BRIDGE ACTIVE - Monitoring serial output...
2025-11-26 17:25:16 [INFO] __main__: Press Ctrl+C to stop
2025-11-26 17:25:16 [INFO] __main__: ============================================================
2025-11-26 17:25:32 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:25:37 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:25:42 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:25:47 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:25:54 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:25:57 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:02 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:07 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:11 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:14 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:21 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:25 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:29 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:34 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:41 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:46 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:50 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:26:55 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:00 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:07 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:11 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:17 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:21 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:27 [INFO] browser_automation: Simulation reset detected
2025-11-26 17:27:31 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:31 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:32 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:32 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:32 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:33 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:33 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:33 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:33 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:34 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:34 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:34 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:35 [WARNING] browser_automation: Error reading serial output: Locator.inner_text: Target page, context or browser has been closed
2025-11-26 17:27:35 [INFO] __main__: 
============================================================
2025-11-26 17:27:35 [INFO] __main__: Stopping bridge (Ctrl+C detected)
2025-11-26 17:27:35 [INFO] __main__: ============================================================
2025-11-26 17:27:35 [INFO] __main__: 
Runtime: 138.4 seconds
2025-11-26 17:27:35 [INFO] __main__: Messages sent: 216
2025-11-26 17:27:35 [INFO] __main__: Average rate: 1.56 msg/s
2025-11-26 17:27:35 [INFO] __main__: Cleaning up...
2025-11-26 17:27:35 [INFO] browser_automation: Stopping simulation...
2025-11-26 17:27:35 [WARNING] browser_automation: Error stopping simulation: Locator.click: Target page, context or browser has been closed
2025-11-26 17:27:35 [CRITICAL] __main__: Critical error: BrowserContext.close: Target page, context or browser has been closed
Traceback (most recent call last):
  File "C:\Users\krzor\Desktop\irrigation last bridge\src\main.py", line 237, in main
    success = run_bridge()
  File "C:\Users\krzor\Desktop\irrigation last bridge\src\main.py", line 216, in run_bridge
    context.close()
    ~~~~~~~~~~~~~^^
  File "C:\Users\krzor\AppData\Local\Programs\Python\Python314\Lib\site-packages\playwright\sync_api\_generated.py", line 13482, in close
    return mapping.from_maybe_impl(self._sync(self._impl_obj.close(reason=reason)))
                                   ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\krzor\AppData\Local\Programs\Python\Python314\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "C:\Users\krzor\AppData\Local\Programs\Python\Python314\Lib\site-packages\playwright\_impl\_browser_context.py", line 620, in close
    await self._channel.send("close", None, {"reason": reason})
  File "C:\Users\krzor\AppData\Local\Programs\Python\Python314\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\krzor\AppData\Local\Programs\Python\Python314\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TargetClosedError: BrowserContext.close: Target page, context or browser has been closed
2025-11-26 17:27:35 [INFO] __main__: ============================================================
2025-11-26 17:27:35 [INFO] __main__: Application terminated
2025-11-26 17:27:35 [INFO] __main__: ============================================================
